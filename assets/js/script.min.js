var slug = function(str) {
    var $slug = '';
    var trimmed = $.trim(str);
    $slug = trimmed.replace(/[^a-z0-9-]/gi, '-').
    replace(/-+/g, '-').
    replace(/^-|-$/g, '');
    return $slug.toLowerCase();
}

$("ul.filters li a").on('click',function(){
    $("ul.filters").find('.active').removeClass('active')
    $(this).parent().addClass('active')
    let filterValue = slug(this.text)
    if(filterValue == 'all') {
        $("div.gallery-pt--body>.item").show()
    }
    else {
        let parent = $('div.gallery-pt--body')
        parent.parent().height(parent.parent().height())
        parent.slideUp(500,function(){
            $(this).find('img[data-album!="'+filterValue+'"]').closest('div.item')
            .hide()
            .parent().find('img[data-album="'+filterValue+'"]').closest('div.item')
            .show()
        }).slideDown()
        
    }
});
$(function(){

    // Initializing the swiper plugin for the slider.
    // Read more here: http://idangero.us/swiper/api/
    
    var mySwiper = new Swiper ('.swiper-container', {
        loop: true,
        pagination: '.swiper-pagination',
        paginationClickable: true,
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev'
    });
    
});
$(document).ready(function(){

    $(".filter-button").click(function(){
        var value = $(this).attr('data-filter');
        
        if(value == "all")
        {
            //$('.filter').removeClass('hidden');
            $('.filter').show('1000');
        }
        else
        {
//            $('.filter[filter-item="'+value+'"]').removeClass('hidden');
//            $(".filter").not('.filter[filter-item="'+value+'"]').addClass('hidden');
            $(".filter").not('.'+value).hide('3000');
            $('.filter').filter('.'+value).show('3000');
            
        }
    });

});
$(document).ready(function(){
    var currentUrlComponents = document.URL.split("/");
    var currentFolder = currentUrlComponents[currentUrlComponents.length - 2];
    var currentPage = currentUrlComponents[currentUrlComponents.length - 1];
    $("a").each(function(){
        var href = $(this).attr("href");
        if (href) {
            var parent = $(this).parent();
            if (parent) {
                var grandParent = parent.parent();
                if (grandParent) {
                    var role = grandParent.attr("role");
                    if(!role){
                        var hrefComponents = href.split("/");
                        if(hrefComponents[hrefComponents.length - 2] == currentFolder
                            && hrefComponents[hrefComponents.length - 1].startsWith(currentFolder)){
                            $(this).css("color", "#eb4221");
                            return;
                        }
                    }
                }
            }
        }
	});
});
